<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <title>Cart</title>
</head>
<body class="cart-page">

    <div class="header">
        <div class="container">        
            <div class="navbar">
                <div class="logo">        
                    <img src="Fresco-Style-11-6-2024.png" width="130px" height="75px">
                </div>    
                <nav>
                    <ul class="menu">
                        <li class="hideOnMobile"><a href="Login.html">Log In</a></li>
                        <li class="hideOnMobile"><a href="Home.html">Home</a></li>
                        <li class="hideOnMobile"><a href="Products.html">Products</a></li>
                        <li class="hideOnMobile"><a href="Services.html">Services</a></li>
                        <li class="menu-button"  onclick=showSidebar()><a href="#"><svg xmlns="http://www.w3.org/2000/svg" height="30px" viewBox="0 -960 960 960" width="30px" fill="white"><path d="M120-240v-80h720v80H120Zm0-200v-80h720v80H120Zm0-200v-80h720v80H120Z"/></svg><s</a></li>
                    </ul>
                    <ul class="sidebar">
                        <li onclick=hideSidebar()><a href="#"><svg xmlns="http://www.w3.org/2000/svg" height="30px" viewBox="0 -960 960 960" width="30px" fill="white"><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></a></li>
                        <li><a href="Login.html">Log In</a></li>
                        <li><a href="Home.html">Home</a></li>
                        <li><a href="Products.html">Products</a></li>
                        <li><a href="Services.html">Services</a></li>
                    </ul>
                </nav>
                <a href="Cart.html" class="cart-link">
                    <img src="cart-icon-16.png" alt="photo" width="40px" height="40px">
                </a>
            </div>                    
        </div>
    </div>

    <div class="spacing"></div>

    <table>
        <thead>
            <tr>
                <th>Produkti</th>
                <th>Cmimi</th>
                <th>Kuantiteti</th>
                <th>Totali</th>
                <th>Fshij</th> 
            </tr>
        </thead>
        <tbody id="cart-items">
            
        </tbody>
    </table>
    <p id="total-amount" style="font-weight: bold; color: black; font-size: 18px; text-align: right; margin-top: 20px;">
        Total: $0.00
    </p>

    

    <div class="spacing-3"></div>

    <footer>
        <div class="container-wrap">
            <div class="row-2">
                <div class="column">
                    <div class="footer-widget">
                        <h2 class="widget-title">About</h2>

                        <p class="pershkrimi">
                            Mirësevini në FrescoStyle! Ne jemi një dyqan veshjesh që sjell freski 
                            dhe stil në jetën tuaj të përditshme. 
                        </p>

                        <p>Nëse jeni te interesuar të mësoni më shumë rreth faqes sonë,
                            ndihuni të lirë të klikoni butonin e mëposhtëm për më
                            shumë informacione.
                        </p>
                        <div class="button-container">
                                <button type="button" onclick="location.href='About.html'">About Us &#8594;</button>       
                        </div>

                        <div class="cards">
                            <img src="VISA.png">
                            <img src="MASTERCARD.avif" width="60px">
                            <img src="PayPal.avif" width="60px">
                            <img src="ApplePay.avif" width="60px">
                            <img src="AmericanExpress.avif" width="60px">
                            <img src="PayU.avif" width="60px">
                            <img src="GooglePay.avif" width="60px">
                        </div>

                        <p><i style="font-size:24px" class="fa">&#xf023;</i> Secure Online Payment</p>
                    </div>
                </div>

                <div class="column">
                    <div class="footer-widget">
                        <h2 class="widget-title">Contact Us</h2>

                        <div class="contact-address">
                            <a href="https://maps.app.goo.gl/v2sX4FM7vxxGTd5bA">
                                <i style="font-size:24px" class="fa">&#xf041;</i>
                            Address: Prishtine, Kosove, 10000
                            </a>
                        </div>

                        <div class="contact-number">
                            <a href="tel:+38344123456">
                                <i style="font-size:24px" class="fa">&#xf095;</i>
                                Phone: +383 44 123 456
                            </a>
                        </div>

                        <div class="contact-email">
                            <a href= "mailto: filanfisteku@gmail.com"> 
                                <i style="font-size:18px" class="fa">&#xf0e0;</i>
                                Email: filanfisteku@gmail.com 
                            </a>
                        </div>

                        <p>Na Kontaktoni! Jemi këtu për t'ju ndihmuar! Nëse keni ndonjë pyetje rreth 
                            produkteve tona, porosisë tuaj, ose dëshironi më shumë informacion, 
                            ju lutemi mos hezitoni të na kontaktoni, duke shtypur butonin e mëposhtëm.
                        </p>
                        <div class="button-container">
                            <button type="button" onclick="location.href='Contact.html'">Contact Us &#8594;</button>
                        </div>

                    </div>   
                </div>

                <div class="column">
                    <div class="footer-widget">
                        <h2 class="widget-title">Feedback</h2>
                        <p class="paragrafi-feedback">Keni Një Sugjerim? Ne dëshirojmë të dëgjojmë mendimin tuaj!
                             Na tregoni se çfarë ju pëlqeu ose çfarë mund të përmirësojmë. Komentet tuaja 
                             na ndihmojnë të sjellim përvoja më të mira të blerjes dhe produkte që plotësojnë 
                             pritshmëritë tuaja.</p>
                        <div class="kutia-comment">
                            <p>Klikoni butonin më poshtë për të ndarë çdo ankesë apo kënaqësi që keni gjatë 
                                përdorimit të faqes sonë.
                            </p>
                            <div class="button-container">
                                <button type="button" onclick="location.href='Feedback.html'">Feedback &#8594;</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="column">
                    <div class="footer-widget">
                        <h2 class="widget-title">Follow Us</h2>

                        <div class="contact-social">
                            <a href="https://www.facebook.com/">
                                <i style="font-size:24px" class="fa">&#xf09a;</i>
                            </a>
                            <a href="https://www.instagram.com/">
                                <i style="font-size:24px" class="fa">&#xf16d;</i>
                            </a>
                            <a href="https://www.x.com">
                                <i style="font-size:24px" class="fa">&#xf099;</i>
                            </a>
                            <a href="https://www.whatsapp.com/">
                                <i style="font-size:24px" class="fa">&#xf232;</i>
                            </a>
                        </div>

                    </div>
                </div>

            </div>
        </div>
    </footer>

    <script src="script.js"></script>

    <script>

    const cartUtils = {
        get: () => JSON.parse(localStorage.getItem('cart')) || [],
        save: (cart) => localStorage.setItem('cart', JSON.stringify(cart)),
    };

    function addToCart(product) {
        const cart = cartUtils.get();
        const existingProduct = cart.find((item) => item.id === product.id);
        if (existingProduct) existingProduct.quantity += 1;
        else cart.push({ ...product, quantity: 1 });
        cartUtils.save(cart);
        alert('Product added to cart!');
    }

    function removeFromCart(productId) {
        const cart = cartUtils.get().filter((item) => item.id !== productId);
        cartUtils.save(cart);
        renderCart();
    }

    function renderCart() {
        const cart = cartUtils.get();
        const cartItemsContainer = document.querySelector('#cart-items');
        const totalAmountContainer = document.querySelector('#total-amount');
        if (!cartItemsContainer || !totalAmountContainer) return;

        cartItemsContainer.innerHTML = '';
        let totalAmount = 0;

        cart.forEach((item) => {
            totalAmount += item.price * item.quantity;
            cartItemsContainer.innerHTML += `
            <tr>
            <td>${item.name}</td>
            <td>$${item.price.toFixed(2)}</td>
            <td>${item.quantity}</td>
            <td>$${(item.price * item.quantity).toFixed(2)}</td>
            <td><button class="remove-button" data-id="${item.id}">Remove</button></td>
            </tr>`;
        });

        totalAmountContainer.textContent = `Total: $${totalAmount.toFixed(2)}`;

        document.querySelectorAll('.remove-button').forEach((button) =>
        button.addEventListener('click', () =>
        removeFromCart(parseInt(button.dataset.id))
        )
        );
    }

    function setupAddToCartButtons() {
        document.querySelectorAll('.shporta').forEach((button, index) =>
        button.addEventListener('click', () => {
        const productContainer = button.closest('.product');
        const product = {
        id: index + 1,
        name: productContainer.querySelector('h3').textContent,
        price: parseFloat(
            productContainer.querySelector('h4').textContent.replace('$', '')
        ),
        };
        addToCart(product);
    })
  );
  }

    document.addEventListener('DOMContentLoaded', () => {
        if (document.body.classList.contains('products-page')) {
        setupAddToCartButtons();
    } else if (document.body.classList.contains('cart-page')) {
        renderCart();
    }
    });
    </script>
    
</body>
</html>